# SIMPLE STORAGE SERVICE (S3)

<hr>

## The Basics - Summary

 - Bucket name are _globally unique_
 - 3 - 63 characters, all lowercase, no underscores
 - Start with a lowercase letter or a number
 - Can't be IP formatted e.g. 1.1.1.1
 - Buckets - 100 softer limit, 1000 hard per account
 - Unlimited objects in a bucket, 0 bytes to 5TB
 - Key = Name, Value = Data
 - S3 is an object store - note file or block
 - You CAN:T MOUNT an S3 bucket as (K:\ or /images)
 - Great for large scale data storage, distribution or upload
 - INPUT and/or OUTPUT to MANT AWS products
 - All S3 object and buckets are private by default

<br>
<hr>

## S3 Security (Resource Policies and ACLs)

**_S3 is private by default_**

- The only identity that has any initial access to an S3 bucket is the account root user of the account which owns that bucket
-  Any other permissions have to be explicitly granted

### S3 Bucket Policies

- A form of _**resource policy**_
- Like identity policies but attached to a bucket
- Resource perspective permissions (control who can access a resource)
- ALLOW/DENY same or different accounts 
- ALLOW/DENY anonymous access 

Example bucket policy:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "PublicReadAccess",
      "Effect": "Allow",
      "Principal": "*",
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::your-bucket-name/*"
      ]
    }
  ]
}
```

_A resource policy can be differentiated from an identity policy by the presence of an explicit Principle field._

The above example allows _**any Principle**_ to perform the action `s3:GetObject` on any object inside the bucket

Any Principle (*) means identities within the same account, identities, from partner/member accounts, and importantly, it also applies to Anonymous Principles (Principle that haven't authenticated to AWS)

### Access Control Lists (ACLs)

- ACLs on objects and buckets
- A subresource
- Legacy _**(AWS don't recommend their use - Use bucket or identity policies)**_
- Inflexible and Simple permissions

### Block Public Access Settings

These setting only applies to the public access, not any other defined AWS identities.

![](images/block_pub_access.png)

<br>
<hr>

## S3 Static Website Hosting 

